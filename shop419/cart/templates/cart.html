{% extends 'base.html' %}

{% block title %}
{{user}}'s Cart

{% endblock %}

{% block content %}

<div class="container-fluid">
    {% if cart_items %}
    <table class="table" data-bs-theme="dark">
        <thead >
            <th></th>
            <th>Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Subtotal</th>
            <th></th>
        </thead>
        <tbody>
        {% for item in cart_items %}
            <tr>
                <td><img src="{{item.product.pic.url}}" height="20px" alt=""></td>
                <td>
                    <a href="{% url 'prod_details' item.product.id %}">
                    {{item.product.name}}
                    </a>
                </td>
                
                <td>{{item.product.price}}</td>                
                <td class="row">
                    <button class="col btn btn-secondary">-</button>
                    <p class="col">{{item.quantity}}</p>
                    <button class="col btn btn-secondary">+</button>
                </td>
                <td>{{item.get_total_price}}</td>
                <td><a href="{% url 'rem_from_cart' item.id %}" class="btn btn-danger">Remove From Cart</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% else %}

    <div class="text-center text-warning">Cart is Empty</div>
    {% endif %}

    <a href="{% url 'homepage' %}" class="btn btn-primary">Shop More!!!</a>
</div>

{% endblock %}